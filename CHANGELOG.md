<!--
DO NOT EDIT THIS FILE MANUALLY; IT IS GENERATED BY 'make docs'
Instead, edit the files in dev/changes/, then run 'make docs' to update this file.
-->
# Changelog - Go Build Action

## Unreleased Changes (targeting v0.1.6)

Changed:

  - Windows executables automatically have a .exe extension.

<!-- RECENT COMMITS TO JOG YOUR MEMORY (DELETE THIS SECTION WHEN DONE)...
commit b2ef82e8d5816ade30bf723afe0182d2c8dd99ae
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 16:16:18 2022 +0100

    remove unneeded code

commit 214eb2f3962577e938b4fd795f93939af2560d2f
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 15:15:15 2022 +0100

    set exe name before calculating build rootss
    
    - Because the exe name affects the cache key.

commit 6392f64caa9a890b64454ef7fe6ee41b93e45139
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 15:05:46 2022 +0100

    make readme

commit 121256b4f15e19101692409f5e7f71a7ec9fad2d
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 15:04:46 2022 +0100

    invert input

commit e81f2246e762e5d91b89a5f023eeff49e8f891e7
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 14:30:27 2022 +0100

    fix gh interpolation syntax

commit 35d653b63042bdafa59964e992b4739b5e71a402
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 14:22:02 2022 +0100

    make readme

commit 9d6213c0bd9b0f496c49d24f6c0e0bb8a1db72f6
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 14:20:40 2022 +0100

    require clean builds by default (action only)

commit 2aa24cb8680f5c2219898e4cc82312c05079c165
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 13:56:10 2022 +0100

    update tests to assume default workdir

commit 9a83e47f444fe2db78fd024c646d38e866c93e85
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 13:54:28 2022 +0100

    self-test: add work_dir passthrough

commit a6f18c80bec437d684ea4fd2c6eebfc59659c276
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 13:45:20 2022 +0100

    ensure action config uses .exe for windows

commit 3d5f1bc3bf9be680eb256ed57badcf8343a24b87
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 12:13:51 2022 +0100

    tidy up

commit 8ce05de358813e31dc07e231fef8c21eac5748b4
Author: Sam Salisbury <samsalisbury@gmail.com>
Date:   Mon Oct 17 12:06:48 2022 +0100

    add .exe extension for windows binaries
 END RECENT COMMITS TO JOG YOUR MEMORY (DELETE THIS SECTION WHEN DONE)... -->

## [v0.1.5](https://github.com/hashicorp/actions-go-build/releases/tag/v0.1.5) - October 12, 2022

- Fix detection of Go version. Don't assume it's the same as the version that built
  actions-go-build itself.

## [v0.1.4](https://github.com/hashicorp/actions-go-build/releases/tag/v0.1.4) - September 29, 2022

### Fixed

### Added
- New input `product_version_meta` for adding a metadata field to the product version.
- New input `work_dir` for setting the working directory.
- New CLI allows running local build and verification just like in CI.

### Changed
- The `product_version` input is now optional. Instead we should use a VERSION file
  in either the repo root, or .release/ or dev/.
- The `product_name` input's default is now the working directory name, unless
  the working directory is the repository root, in which case it still defaults
  to the repository name.

---
Internal Changes
  - Add `make version/set VERSION=<X.Y.Z>` to set the development version.
  - Changelog generation more robust.
  - When pre-push hook fails you now see the output so it's easier to debug.
  - Readme tidied up.
  - Converted digest inputs to Go.
  - Converted build functionality to Go.
  - Converted remaining functionality to Go.

## [v0.1.3](https://github.com/hashicorp/actions-go-build/releases/tag/v0.1.3) - June 15, 2022

- Adds .exe extension for windows binaries.
- Clearer logging when calculated default values are used.
- Internal:
  - Better handling of inputs with default values that also need to be manipulated or validated.
  - Better test coverage for input handling.
  - Target `make changelog/add` reminds about recent commits to help remember what's been done
    recently, regenerates the main `CHANGELOG.md`, and commits the result.
  - Release workflow to release via GitHub Actions.

## [v0.1.2](https://github.com/hashicorp/actions-go-build/releases/tag/v0.1.2) - June 13, 2022

- Default `product_name` to `repo_name`
- Automatically append `+ent` suffix for `-enteprise` products unless there's already
  any version metadata present.
- Fix broken tests.

### Development

- Added convenience script to set the current development version: `./dev/release/set_version`
- Added git pre-push hook to check that tests pass, all docs are up to date and more.

## [v0.1.1](https://github.com/hashicorp/actions-go-build/releases/tag/v0.1.1) - June 10, 2022

More conventional default zip name.
This means that e.g. actions-docker-build will guess the right
zip file name without explicit config.

## [v0.1.0](https://github.com/hashicorp/actions-go-build/releases/tag/v0.1.0) - June 10, 2022

### Fixed

- Uses the`-X` flag when zipping to exclude UID and GID info from the zip.
  This seems to make the zip file more likely to reproduce correctly.

### Improved

- Test cases now moved to their own reusable workflow which parameterises
  the runner. This means there are half as many test cases defined,
  and we just run the entire suite twice, once for linux and once for mac.
- Test cases are now ready to be run on our own self-hosted runners as well
  so we can exercise them in that environment.
- When there is a zip mismatch, we now dump detailed info about the zip file
  using `zipinfo` and we stat the product binary to aid with debugging.
- Logging now uses bold and coloured text to highlight major passages
  in the logs (bold blue) errors (bold red) and other important info
  (just bold).

## [v0.0.3](https://github.com/hashicorp/actions-go-build/releases/tag/v0.0.3) - June 08, 2022

- More graceful handling of installing coreutils on macOS. 
  Doesn't attempt to install again if GNU date already present.

## [v0.0.2](https://github.com/hashicorp/actions-go-build/releases/tag/v0.0.2) - June 08, 2022

- Better error message when env vars missing.

## [v0.0.1](https://github.com/hashicorp/actions-go-build/releases/tag/v0.0.1) - June 08, 2022

Initial version.

See the [README at this tag](https://github.com/hashicorp/actions-go-build/blob/v0.0.1/README.md) for details.

